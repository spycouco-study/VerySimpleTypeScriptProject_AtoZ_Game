import * as THREE from "three";
import * as CANNON from "cannon-es";
const canvas = document.getElementById("gameCanvas");
if (!canvas) {
  console.error("Canvas element with ID 'gameCanvas' not found.");
  throw new Error("Canvas element with ID 'gameCanvas' not found.");
}
const scene = new THREE.Scene();
scene.background = new THREE.Color(8900331);
scene.fog = new THREE.Fog(8900331, 0, 500);
const camera = new THREE.PerspectiveCamera(
  75,
  canvas.clientWidth / canvas.clientHeight,
  // Use canvas dimensions
  0.1,
  1e3
);
camera.position.set(0, 5, 10);
const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
renderer.setSize(canvas.clientWidth, canvas.clientHeight);
renderer.shadowMap.enabled = true;
renderer.shadowMap.type = THREE.PCFSoftShadowMap;
const ambientLight = new THREE.AmbientLight(16777215, 0.6);
scene.add(ambientLight);
const directionalLight = new THREE.DirectionalLight(16777215, 0.8);
directionalLight.position.set(50, 50, 50);
directionalLight.castShadow = true;
directionalLight.shadow.camera.left = -50;
directionalLight.shadow.camera.right = 50;
directionalLight.shadow.camera.top = 50;
directionalLight.shadow.camera.bottom = -50;
directionalLight.shadow.mapSize.width = 2048;
directionalLight.shadow.mapSize.height = 2048;
scene.add(directionalLight);
const world = new CANNON.World();
world.gravity.set(0, -9.82, 0);
const slipperyMaterial = new CANNON.Material("slippery");
const slipperyContactMaterial = new CANNON.ContactMaterial(
  slipperyMaterial,
  slipperyMaterial,
  {
    friction: 0.1,
    // Reduced friction
    restitution: 0.1
    // Slightly bouncy, feel free to adjust
  }
);
world.addContactMaterial(slipperyContactMaterial);
const groundGeometry = new THREE.PlaneGeometry(100, 100);
const groundMaterial = new THREE.MeshStandardMaterial({
  color: 3066993,
  roughness: 0.8
});
const ground = new THREE.Mesh(groundGeometry, groundMaterial);
ground.rotation.x = -Math.PI / 2;
ground.receiveShadow = true;
scene.add(ground);
const groundBody = new CANNON.Body({
  mass: 0,
  shape: new CANNON.Plane(),
  material: slipperyMaterial
  // Assign slippery material
});
groundBody.quaternion.setFromEuler(-Math.PI / 2, 0, 0);
world.addBody(groundBody);
const playerGeometry = new THREE.BoxGeometry(1, 2, 1);
const playerMaterial = new THREE.MeshStandardMaterial({ color: 3447003 });
const player = new THREE.Mesh(playerGeometry, playerMaterial);
player.position.set(0, 1, 0);
player.castShadow = true;
scene.add(player);
const playerShape = new CANNON.Box(new CANNON.Vec3(0.5, 1, 0.5));
const playerBody = new CANNON.Body({
  mass: 5,
  shape: playerShape,
  position: new CANNON.Vec3(0, 1, 0),
  linearDamping: 0.9,
  angularDamping: 0.9,
  material: slipperyMaterial
  // Assign slippery material
});
world.addBody(playerBody);
playerBody.fixedRotation = true;
playerBody.updateMassProperties();
const collectibles = [];
for (let i = 0; i < 8; i++) {
  const sphereGeometry = new THREE.SphereGeometry(0.5, 32, 32);
  const sphereMaterial = new THREE.MeshStandardMaterial({
    color: 16766720,
    emissive: 16755200,
    emissiveIntensity: 0.5,
    metalness: 0.7,
    roughness: 0.3
  });
  const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);
  sphere.castShadow = true;
  const x = (Math.random() - 0.5) * 40;
  const z = (Math.random() - 0.5) * 40;
  sphere.position.set(x, 0.5, z);
  scene.add(sphere);
  const sphereShape = new CANNON.Sphere(0.5);
  const sphereBody = new CANNON.Body({
    mass: 0,
    shape: sphereShape,
    position: new CANNON.Vec3(x, 0.5, z),
    material: slipperyMaterial
    // Assign slippery material
  });
  world.addBody(sphereBody);
  collectibles.push({ mesh: sphere, body: sphereBody, collected: false });
}
const obstacles = [];
for (let i = 0; i < 5; i++) {
  const cubeGeometry = new THREE.BoxGeometry(2, 2, 2);
  const cubeMaterial = new THREE.MeshStandardMaterial({
    color: 15158332,
    roughness: 0.7
  });
  const cube = new THREE.Mesh(cubeGeometry, cubeMaterial);
  cube.castShadow = true;
  cube.receiveShadow = true;
  const x = (Math.random() - 0.5) * 30;
  const z = (Math.random() - 0.5) * 30;
  cube.position.set(x, 1, z);
  scene.add(cube);
  const cubeShape = new CANNON.Box(new CANNON.Vec3(1, 1, 1));
  const cubeBody = new CANNON.Body({
    mass: 0,
    shape: cubeShape,
    position: new CANNON.Vec3(x, 1, z),
    material: slipperyMaterial
    // Assign slippery material
  });
  world.addBody(cubeBody);
  obstacles.push({ mesh: cube, body: cubeBody });
}
const keys = {};
let canJump = false;
document.addEventListener("keydown", (e) => {
  keys[e.key.toLowerCase()] = true;
  if (e.key === " " && canJump) {
    playerBody.velocity.y = 8;
    canJump = false;
  }
});
document.addEventListener("keyup", (e) => {
  keys[e.key.toLowerCase()] = false;
});
playerBody.addEventListener("collide", (event) => {
  if (event.body === groundBody || obstacles.some((o) => o.body === event.body)) {
    const contactNormal = new CANNON.Vec3();
    event.contact.ni.negate(contactNormal);
    if (contactNormal.y > 0.5) {
      canJump = true;
    }
  }
});
let score = 0;
const scoreElement = document.getElementById("score");
function checkCollectibles() {
  collectibles.forEach((item, index) => {
    if (!item.collected) {
      const dist = playerBody.position.distanceTo(item.body.position);
      if (dist < 1.5) {
        item.collected = true;
        scene.remove(item.mesh);
        world.removeBody(item.body);
        score += 100;
      }
    }
  });
}
function updatePlayer() {
  const speed = 5;
  const direction = new CANNON.Vec3();
  if (keys["w"] || keys["arrowup"]) direction.z -= speed;
  if (keys["s"] || keys["arrowdown"]) direction.z += speed;
  if (keys["a"] || keys["arrowleft"]) direction.x -= speed;
  if (keys["d"] || keys["arrowright"]) direction.x += speed;
  playerBody.velocity.x = direction.x;
  playerBody.velocity.z = direction.z;
  player.position.copy(playerBody.position);
  player.quaternion.copy(playerBody.quaternion);
  camera.position.x = player.position.x;
  camera.position.y = player.position.y + 5;
  camera.position.z = player.position.z + 10;
  camera.lookAt(player.position);
  if (scoreElement) {
    scoreElement.textContent = `Score: ${score}`;
  }
  if (collectibles.every((c) => c.collected)) {
    if (scoreElement) {
      scoreElement.textContent = `Score: ${score} - YOU WIN! \u{1F389}`;
    }
  }
}
function animateCollectibles() {
  collectibles.forEach((item) => {
    if (!item.collected) {
      item.mesh.rotation.y += 0.02;
      item.mesh.position.y = 0.5 + Math.sin(Date.now() * 2e-3) * 0.2;
    }
  });
}
const clock = new THREE.Clock();
function animate() {
  requestAnimationFrame(animate);
  const deltaTime = clock.getDelta();
  world.step(1 / 60, deltaTime, 3);
  obstacles.forEach(({ mesh, body }) => {
    mesh.position.copy(body.position);
    mesh.quaternion.copy(body.quaternion);
  });
  updatePlayer();
  checkCollectibles();
  animateCollectibles();
  renderer.render(scene, camera);
}
window.addEventListener("resize", () => {
  const currentCanvas = renderer.domElement;
  const width = currentCanvas.clientWidth;
  const height = currentCanvas.clientHeight;
  camera.aspect = width / height;
  camera.updateProjectionMatrix();
  renderer.setSize(width, height);
});
animate();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiZ2FtZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gM0QgR2FtZSBFeGFtcGxlIHdpdGggVGhyZWUuanMgYW5kIENhbm5vbi5qc1xyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0ICogYXMgQ0FOTk9OIGZyb20gXCJjYW5ub24tZXNcIjtcclxuaW1wb3J0IHsgUG9pbnRlckxvY2tDb250cm9scyB9IGZyb20gXCJ0aHJlZS9leGFtcGxlcy9qc20vY29udHJvbHMvUG9pbnRlckxvY2tDb250cm9scy5qc1wiO1xyXG5cclxuLy8gR2V0IHRoZSBjYW52YXMgZWxlbWVudFxyXG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDYW52YXNcIikgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbmlmICghY2FudmFzKSB7XHJcbiAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBlbGVtZW50IHdpdGggSUQgJ2dhbWVDYW52YXMnIG5vdCBmb3VuZC5cIik7XHJcbiAgdGhyb3cgbmV3IEVycm9yKFwiQ2FudmFzIGVsZW1lbnQgd2l0aCBJRCAnZ2FtZUNhbnZhcycgbm90IGZvdW5kLlwiKTtcclxufVxyXG5cclxuLy8gU2NlbmUgc2V0dXBcclxuY29uc3Qgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcclxuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcigweDg3Y2VlYik7XHJcbnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coMHg4N2NlZWIsIDAsIDUwMCk7XHJcblxyXG4vLyBDYW1lcmEgc2V0dXBcclxuY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxyXG4gIDc1LFxyXG4gIGNhbnZhcy5jbGllbnRXaWR0aCAvIGNhbnZhcy5jbGllbnRIZWlnaHQsIC8vIFVzZSBjYW52YXMgZGltZW5zaW9uc1xyXG4gIDAuMSxcclxuICAxMDAwXHJcbik7XHJcbmNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgNSwgMTApO1xyXG5cclxuLy8gUmVuZGVyZXIgc2V0dXBcclxuY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGNhbnZhczogY2FudmFzLCBhbnRpYWxpYXM6IHRydWUgfSk7IC8vIERyYXcgZGlyZWN0bHkgdG8gdGhlIHNwZWNpZmllZCBjYW52YXNcclxucmVuZGVyZXIuc2V0U2l6ZShjYW52YXMuY2xpZW50V2lkdGgsIGNhbnZhcy5jbGllbnRIZWlnaHQpOyAvLyBVc2UgY2FudmFzIGRpbWVuc2lvbnNcclxucmVuZGVyZXIuc2hhZG93TWFwLmVuYWJsZWQgPSB0cnVlO1xyXG5yZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXA7XHJcbi8vIE5vIG5lZWQgdG8gYXBwZW5kIHJlbmRlcmVyLmRvbUVsZW1lbnQgYXMgaXQncyBhbHJlYWR5IHVzaW5nIHRoZSBwcm92aWRlZCBjYW52YXNcclxuXHJcbi8vIExpZ2h0aW5nXHJcbmNvbnN0IGFtYmllbnRMaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDAuNik7XHJcbnNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xyXG5cclxuY29uc3QgZGlyZWN0aW9uYWxMaWdodCA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4ZmZmZmZmLCAwLjgpO1xyXG5kaXJlY3Rpb25hbExpZ2h0LnBvc2l0aW9uLnNldCg1MCwgNTAsIDUwKTtcclxuZGlyZWN0aW9uYWxMaWdodC5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cuY2FtZXJhLmxlZnQgPSAtNTA7XHJcbmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5yaWdodCA9IDUwO1xyXG5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5jYW1lcmEudG9wID0gNTA7XHJcbmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93LmNhbWVyYS5ib3R0b20gPSAtNTA7XHJcbmRpcmVjdGlvbmFsTGlnaHQuc2hhZG93Lm1hcFNpemUud2lkdGggPSAyMDQ4O1xyXG5kaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDIwNDg7XHJcbnNjZW5lLmFkZChkaXJlY3Rpb25hbExpZ2h0KTtcclxuXHJcbi8vIFBoeXNpY3Mgd29ybGRcclxuY29uc3Qgd29ybGQgPSBuZXcgQ0FOTk9OLldvcmxkKCk7XHJcbndvcmxkLmdyYXZpdHkuc2V0KDAsIC05LjgyLCAwKTtcclxuXHJcbi8vIERlZmluZSBhIHNsaXBwZXJ5IG1hdGVyaWFsIGZvciBhbGwgb2JqZWN0c1xyXG5jb25zdCBzbGlwcGVyeU1hdGVyaWFsID0gbmV3IENBTk5PTi5NYXRlcmlhbChcInNsaXBwZXJ5XCIpO1xyXG5jb25zdCBzbGlwcGVyeUNvbnRhY3RNYXRlcmlhbCA9IG5ldyBDQU5OT04uQ29udGFjdE1hdGVyaWFsKFxyXG4gIHNsaXBwZXJ5TWF0ZXJpYWwsXHJcbiAgc2xpcHBlcnlNYXRlcmlhbCxcclxuICB7XHJcbiAgICBmcmljdGlvbjogMC4xLCAvLyBSZWR1Y2VkIGZyaWN0aW9uXHJcbiAgICByZXN0aXR1dGlvbjogMC4xLCAvLyBTbGlnaHRseSBib3VuY3ksIGZlZWwgZnJlZSB0byBhZGp1c3RcclxuICB9XHJcbik7XHJcbndvcmxkLmFkZENvbnRhY3RNYXRlcmlhbChzbGlwcGVyeUNvbnRhY3RNYXRlcmlhbCk7XHJcblxyXG4vLyBHcm91bmRcclxuY29uc3QgZ3JvdW5kR2VvbWV0cnkgPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxMDAsIDEwMCk7XHJcbmNvbnN0IGdyb3VuZE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICBjb2xvcjogMHgyZWNjNzEsXHJcbiAgcm91Z2huZXNzOiAwLjgsXHJcbn0pO1xyXG5jb25zdCBncm91bmQgPSBuZXcgVEhSRUUuTWVzaChncm91bmRHZW9tZXRyeSwgZ3JvdW5kTWF0ZXJpYWwpO1xyXG5ncm91bmQucm90YXRpb24ueCA9IC1NYXRoLlBJIC8gMjtcclxuZ3JvdW5kLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG5zY2VuZS5hZGQoZ3JvdW5kKTtcclxuXHJcbmNvbnN0IGdyb3VuZEJvZHkgPSBuZXcgQ0FOTk9OLkJvZHkoe1xyXG4gIG1hc3M6IDAsXHJcbiAgc2hhcGU6IG5ldyBDQU5OT04uUGxhbmUoKSxcclxuICBtYXRlcmlhbDogc2xpcHBlcnlNYXRlcmlhbCwgLy8gQXNzaWduIHNsaXBwZXJ5IG1hdGVyaWFsXHJcbn0pO1xyXG5ncm91bmRCb2R5LnF1YXRlcm5pb24uc2V0RnJvbUV1bGVyKC1NYXRoLlBJIC8gMiwgMCwgMCk7XHJcbndvcmxkLmFkZEJvZHkoZ3JvdW5kQm9keSk7XHJcblxyXG4vLyBQbGF5ZXJcclxuY29uc3QgcGxheWVyR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMiwgMSk7XHJcbmNvbnN0IHBsYXllck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4MzQ5OGRiIH0pO1xyXG5jb25zdCBwbGF5ZXIgPSBuZXcgVEhSRUUuTWVzaChwbGF5ZXJHZW9tZXRyeSwgcGxheWVyTWF0ZXJpYWwpO1xyXG5wbGF5ZXIucG9zaXRpb24uc2V0KDAsIDEsIDApO1xyXG5wbGF5ZXIuY2FzdFNoYWRvdyA9IHRydWU7XHJcbnNjZW5lLmFkZChwbGF5ZXIpO1xyXG5cclxuY29uc3QgcGxheWVyU2hhcGUgPSBuZXcgQ0FOTk9OLkJveChuZXcgQ0FOTk9OLlZlYzMoMC41LCAxLCAwLjUpKTtcclxuY29uc3QgcGxheWVyQm9keSA9IG5ldyBDQU5OT04uQm9keSh7XHJcbiAgbWFzczogNSxcclxuICBzaGFwZTogcGxheWVyU2hhcGUsXHJcbiAgcG9zaXRpb246IG5ldyBDQU5OT04uVmVjMygwLCAxLCAwKSxcclxuICBsaW5lYXJEYW1waW5nOiAwLjksXHJcbiAgYW5ndWxhckRhbXBpbmc6IDAuOSxcclxuICBtYXRlcmlhbDogc2xpcHBlcnlNYXRlcmlhbCwgLy8gQXNzaWduIHNsaXBwZXJ5IG1hdGVyaWFsXHJcbn0pO1xyXG53b3JsZC5hZGRCb2R5KHBsYXllckJvZHkpO1xyXG5cclxuLy8gUHJldmVudCBwbGF5ZXIgZnJvbSByb3RhdGluZ1xyXG5wbGF5ZXJCb2R5LmZpeGVkUm90YXRpb24gPSB0cnVlO1xyXG5wbGF5ZXJCb2R5LnVwZGF0ZU1hc3NQcm9wZXJ0aWVzKCk7XHJcblxyXG4vLyBDb2xsZWN0aWJsZSBzcGhlcmVzXHJcbmNvbnN0IGNvbGxlY3RpYmxlczoge1xyXG4gIG1lc2g6IFRIUkVFLk1lc2g7XHJcbiAgYm9keTogQ0FOTk9OLkJvZHk7XHJcbiAgY29sbGVjdGVkOiBib29sZWFuO1xyXG59W10gPSBbXTtcclxuZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcclxuICBjb25zdCBzcGhlcmVHZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjUsIDMyLCAzMik7XHJcbiAgY29uc3Qgc3BoZXJlTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xyXG4gICAgY29sb3I6IDB4ZmZkNzAwLFxyXG4gICAgZW1pc3NpdmU6IDB4ZmZhYTAwLFxyXG4gICAgZW1pc3NpdmVJbnRlbnNpdHk6IDAuNSxcclxuICAgIG1ldGFsbmVzczogMC43LFxyXG4gICAgcm91Z2huZXNzOiAwLjMsXHJcbiAgfSk7XHJcbiAgY29uc3Qgc3BoZXJlID0gbmV3IFRIUkVFLk1lc2goc3BoZXJlR2VvbWV0cnksIHNwaGVyZU1hdGVyaWFsKTtcclxuICBzcGhlcmUuY2FzdFNoYWRvdyA9IHRydWU7XHJcblxyXG4gIGNvbnN0IHggPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKiA0MDtcclxuICBjb25zdCB6ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogNDA7XHJcbiAgc3BoZXJlLnBvc2l0aW9uLnNldCh4LCAwLjUsIHopO1xyXG4gIHNjZW5lLmFkZChzcGhlcmUpO1xyXG5cclxuICBjb25zdCBzcGhlcmVTaGFwZSA9IG5ldyBDQU5OT04uU3BoZXJlKDAuNSk7XHJcbiAgY29uc3Qgc3BoZXJlQm9keSA9IG5ldyBDQU5OT04uQm9keSh7XHJcbiAgICBtYXNzOiAwLFxyXG4gICAgc2hhcGU6IHNwaGVyZVNoYXBlLFxyXG4gICAgcG9zaXRpb246IG5ldyBDQU5OT04uVmVjMyh4LCAwLjUsIHopLFxyXG4gICAgbWF0ZXJpYWw6IHNsaXBwZXJ5TWF0ZXJpYWwsIC8vIEFzc2lnbiBzbGlwcGVyeSBtYXRlcmlhbFxyXG4gIH0pO1xyXG4gIHdvcmxkLmFkZEJvZHkoc3BoZXJlQm9keSk7XHJcblxyXG4gIGNvbGxlY3RpYmxlcy5wdXNoKHsgbWVzaDogc3BoZXJlLCBib2R5OiBzcGhlcmVCb2R5LCBjb2xsZWN0ZWQ6IGZhbHNlIH0pO1xyXG59XHJcblxyXG4vLyBTb21lIG9ic3RhY2xlIGN1YmVzXHJcbmNvbnN0IG9ic3RhY2xlczogeyBtZXNoOiBUSFJFRS5NZXNoOyBib2R5OiBDQU5OT04uQm9keSB9W10gPSBbXTtcclxuZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcclxuICBjb25zdCBjdWJlR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMiwgMiwgMik7XHJcbiAgY29uc3QgY3ViZU1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHtcclxuICAgIGNvbG9yOiAweGU3NGMzYyxcclxuICAgIHJvdWdobmVzczogMC43LFxyXG4gIH0pO1xyXG4gIGNvbnN0IGN1YmUgPSBuZXcgVEhSRUUuTWVzaChjdWJlR2VvbWV0cnksIGN1YmVNYXRlcmlhbCk7XHJcbiAgY3ViZS5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuICBjdWJlLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG5cclxuICBjb25zdCB4ID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMzA7XHJcbiAgY29uc3QgeiA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDMwO1xyXG4gIGN1YmUucG9zaXRpb24uc2V0KHgsIDEsIHopO1xyXG4gIHNjZW5lLmFkZChjdWJlKTtcclxuXHJcbiAgY29uc3QgY3ViZVNoYXBlID0gbmV3IENBTk5PTi5Cb3gobmV3IENBTk5PTi5WZWMzKDEsIDEsIDEpKTtcclxuICBjb25zdCBjdWJlQm9keSA9IG5ldyBDQU5OT04uQm9keSh7XHJcbiAgICBtYXNzOiAwLFxyXG4gICAgc2hhcGU6IGN1YmVTaGFwZSxcclxuICAgIHBvc2l0aW9uOiBuZXcgQ0FOTk9OLlZlYzMoeCwgMSwgeiksXHJcbiAgICBtYXRlcmlhbDogc2xpcHBlcnlNYXRlcmlhbCwgLy8gQXNzaWduIHNsaXBwZXJ5IG1hdGVyaWFsXHJcbiAgfSk7XHJcbiAgd29ybGQuYWRkQm9keShjdWJlQm9keSk7XHJcblxyXG4gIG9ic3RhY2xlcy5wdXNoKHsgbWVzaDogY3ViZSwgYm9keTogY3ViZUJvZHkgfSk7XHJcbn1cclxuXHJcbi8vIENvbnRyb2xzXHJcbmNvbnN0IGtleXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge307XHJcbmxldCBjYW5KdW1wID0gZmFsc2U7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG4gIGtleXNbZS5rZXkudG9Mb3dlckNhc2UoKV0gPSB0cnVlO1xyXG5cclxuICBpZiAoZS5rZXkgPT09IFwiIFwiICYmIGNhbkp1bXApIHtcclxuICAgIHBsYXllckJvZHkudmVsb2NpdHkueSA9IDg7XHJcbiAgICBjYW5KdW1wID0gZmFsc2U7XHJcbiAgfVxyXG59KTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xyXG4gIGtleXNbZS5rZXkudG9Mb3dlckNhc2UoKV0gPSBmYWxzZTtcclxufSk7XHJcblxyXG4vLyBDaGVjayBpZiBwbGF5ZXIgY2FuIGp1bXBcclxucGxheWVyQm9keS5hZGRFdmVudExpc3RlbmVyKFwiY29sbGlkZVwiLCAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gIC8vIENoZWNrIGlmIHRoZSBjb2xsaXNpb24gaXMgd2l0aCB0aGUgZ3JvdW5kIG9yIGFub3RoZXIgb2JqZWN0XHJcbiAgaWYgKGV2ZW50LmJvZHkgPT09IGdyb3VuZEJvZHkgfHwgb2JzdGFjbGVzLnNvbWUobyA9PiBvLmJvZHkgPT09IGV2ZW50LmJvZHkpKSB7XHJcbiAgICAvLyBPbmx5IGFsbG93IGp1bXAgaWYgdGhlIGNvbGxpc2lvbiBub3JtYWwgc3VnZ2VzdHMgbGFuZGluZyBvbiB0b3BcclxuICAgIC8vIEZvciBtb3JlIHJvYnVzdCBjaGVja2luZywgY2FuIGluc3BlY3QgZXZlbnQuY29udGFjdC5uaSAobm9ybWFsIHZlY3RvcilcclxuICAgIGNvbnN0IGNvbnRhY3ROb3JtYWwgPSBuZXcgQ0FOTk9OLlZlYzMoKTtcclxuICAgIGV2ZW50LmNvbnRhY3QubmkubmVnYXRlKGNvbnRhY3ROb3JtYWwpOyAvLyBHZXQgbm9ybWFsIHJlbGF0aXZlIHRvIHBsYXllclxyXG4gICAgaWYoY29udGFjdE5vcm1hbC55ID4gMC41KSB7IC8vIElmIHBsYXllciBoaXQgc29tZXRoaW5nIGZyb20gYWJvdmVcclxuICAgICAgY2FuSnVtcCA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbi8vIFNjb3JlXHJcbmxldCBzY29yZSA9IDA7XHJcbi8vIEFzc3VtaW5nIHRoZXJlIHdpbGwgYmUgYSBzY29yZSBlbGVtZW50IGluIHRoZSBIVE1MLCBmb3Igbm93IGtlZXAgb3JpZ2luYWwgbG9naWMuXHJcbi8vIEluIGEgcmVhbCBzY2VuYXJpbywgdGhpcyB3b3VsZCBsaWtlbHkgYmUgcGFydCBvZiB0aGUgY2FudmFzIFVJIG9yIGEgc2VwYXJhdGUgb3ZlcmxheS5cclxuY29uc3Qgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKSE7XHJcblxyXG5mdW5jdGlvbiBjaGVja0NvbGxlY3RpYmxlcygpIHtcclxuICBjb2xsZWN0aWJsZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgIGlmICghaXRlbS5jb2xsZWN0ZWQpIHtcclxuICAgICAgY29uc3QgZGlzdCA9IHBsYXllckJvZHkucG9zaXRpb24uZGlzdGFuY2VUbyhpdGVtLmJvZHkucG9zaXRpb24pO1xyXG4gICAgICBpZiAoZGlzdCA8IDEuNSkge1xyXG4gICAgICAgIGl0ZW0uY29sbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICBzY2VuZS5yZW1vdmUoaXRlbS5tZXNoKTtcclxuICAgICAgICB3b3JsZC5yZW1vdmVCb2R5KGl0ZW0uYm9keSk7XHJcbiAgICAgICAgc2NvcmUgKz0gMTAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVBsYXllcigpIHtcclxuICBjb25zdCBzcGVlZCA9IDU7XHJcbiAgY29uc3QgZGlyZWN0aW9uID0gbmV3IENBTk5PTi5WZWMzKCk7XHJcblxyXG4gIGlmIChrZXlzW1wid1wiXSB8fCBrZXlzW1wiYXJyb3d1cFwiXSkgZGlyZWN0aW9uLnogLT0gc3BlZWQ7XHJcbiAgaWYgKGtleXNbXCJzXCJdIHx8IGtleXNbXCJhcnJvd2Rvd25cIl0pIGRpcmVjdGlvbi56ICs9IHNwZWVkO1xyXG4gIGlmIChrZXlzW1wiYVwiXSB8fCBrZXlzW1wiYXJyb3dsZWZ0XCJdKSBkaXJlY3Rpb24ueCAtPSBzcGVlZDtcclxuICBpZiAoa2V5c1tcImRcIl0gfHwga2V5c1tcImFycm93cmlnaHRcIl0pIGRpcmVjdGlvbi54ICs9IHNwZWVkO1xyXG5cclxuICAvLyBBcHBseSB2ZWxvY2l0eSBkaXJlY3RseSBmb3IgYSBtb3JlIGRpcmVjdCBjb250cm9sLCBvciBhcHBseSBmb3JjZSBmb3IgbW9yZSBwaHlzaWNhbCBpbnRlcmFjdGlvblxyXG4gIC8vIFdpdGggbG93ZXIgZnJpY3Rpb24sIGRpcmVjdCB2ZWxvY2l0eSBzZXR0aW5nIGZlZWxzIG1vcmUgcmVzcG9uc2l2ZS5cclxuICBwbGF5ZXJCb2R5LnZlbG9jaXR5LnggPSBkaXJlY3Rpb24ueDtcclxuICBwbGF5ZXJCb2R5LnZlbG9jaXR5LnogPSBkaXJlY3Rpb24uejtcclxuXHJcbiAgLy8gVXBkYXRlIHBsYXllciBtZXNoIHBvc2l0aW9uXHJcbiAgcGxheWVyLnBvc2l0aW9uLmNvcHkocGxheWVyQm9keS5wb3NpdGlvbiBhcyBhbnkpO1xyXG4gIHBsYXllci5xdWF0ZXJuaW9uLmNvcHkocGxheWVyQm9keS5xdWF0ZXJuaW9uIGFzIGFueSk7XHJcblxyXG4gIC8vIENhbWVyYSBmb2xsb3dzIHBsYXllclxyXG4gIGNhbWVyYS5wb3NpdGlvbi54ID0gcGxheWVyLnBvc2l0aW9uLng7XHJcbiAgY2FtZXJhLnBvc2l0aW9uLnkgPSBwbGF5ZXIucG9zaXRpb24ueSArIDU7XHJcbiAgY2FtZXJhLnBvc2l0aW9uLnogPSBwbGF5ZXIucG9zaXRpb24ueiArIDEwO1xyXG4gIGNhbWVyYS5sb29rQXQocGxheWVyLnBvc2l0aW9uKTtcclxuXHJcbiAgLy8gVXBkYXRlIHNjb3JlXHJcbiAgaWYgKHNjb3JlRWxlbWVudCkgeyAvLyBBZGQgYSBjaGVjayBpbiBjYXNlIHNjb3JlRWxlbWVudCBpcyBub3QgZm91bmQgaW4gdGhlIEhUTUxcclxuICAgIHNjb3JlRWxlbWVudC50ZXh0Q29udGVudCA9IGBTY29yZTogJHtzY29yZX1gO1xyXG4gIH1cclxuXHJcbiAgLy8gV2luIGNvbmRpdGlvblxyXG4gIGlmIChjb2xsZWN0aWJsZXMuZXZlcnkoKGMpID0+IGMuY29sbGVjdGVkKSkge1xyXG4gICAgaWYgKHNjb3JlRWxlbWVudCkge1xyXG4gICAgICBzY29yZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgU2NvcmU6ICR7c2NvcmV9IC0gWU9VIFdJTiEgXHVEODNDXHVERjg5YDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFJvdGF0ZSBjb2xsZWN0aWJsZXNcclxuZnVuY3Rpb24gYW5pbWF0ZUNvbGxlY3RpYmxlcygpIHtcclxuICBjb2xsZWN0aWJsZXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgaWYgKCFpdGVtLmNvbGxlY3RlZCkge1xyXG4gICAgICBpdGVtLm1lc2gucm90YXRpb24ueSArPSAwLjAyO1xyXG4gICAgICBpdGVtLm1lc2gucG9zaXRpb24ueSA9IDAuNSArIE1hdGguc2luKERhdGUubm93KCkgKiAwLjAwMikgKiAwLjI7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIEFuaW1hdGlvbiBsb29wXHJcbmNvbnN0IGNsb2NrID0gbmV3IFRIUkVFLkNsb2NrKCk7XHJcblxyXG5mdW5jdGlvbiBhbmltYXRlKCkge1xyXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcclxuXHJcbiAgY29uc3QgZGVsdGFUaW1lID0gY2xvY2suZ2V0RGVsdGEoKTtcclxuICB3b3JsZC5zdGVwKDEgLyA2MCwgZGVsdGFUaW1lLCAzKTtcclxuXHJcbiAgLy8gVXBkYXRlIG9ic3RhY2xlc1xyXG4gIG9ic3RhY2xlcy5mb3JFYWNoKCh7IG1lc2gsIGJvZHkgfSkgPT4ge1xyXG4gICAgbWVzaC5wb3NpdGlvbi5jb3B5KGJvZHkucG9zaXRpb24gYXMgYW55KTtcclxuICAgIG1lc2gucXVhdGVybmlvbi5jb3B5KGJvZHkucXVhdGVybmlvbiBhcyBhbnkpO1xyXG4gIH0pO1xyXG5cclxuICB1cGRhdGVQbGF5ZXIoKTtcclxuICBjaGVja0NvbGxlY3RpYmxlcygpO1xyXG4gIGFuaW1hdGVDb2xsZWN0aWJsZXMoKTtcclxuXHJcbiAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xyXG59XHJcblxyXG4vLyBIYW5kbGUgd2luZG93IHJlc2l6ZVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XHJcbiAgY29uc3QgY3VycmVudENhbnZhcyA9IHJlbmRlcmVyLmRvbUVsZW1lbnQ7IC8vIFRoaXMgaXMgdGhlIDxjYW52YXMgaWQ9XCJnYW1lQ2FudmFzXCI+XHJcbiAgY29uc3Qgd2lkdGggPSBjdXJyZW50Q2FudmFzLmNsaWVudFdpZHRoO1xyXG4gIGNvbnN0IGhlaWdodCA9IGN1cnJlbnRDYW52YXMuY2xpZW50SGVpZ2h0O1xyXG5cclxuICBjYW1lcmEuYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XHJcbiAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICByZW5kZXJlci5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG59KTtcclxuXHJcbmFuaW1hdGUoKTsiXSwKICAibWFwcGluZ3MiOiAiQUFDQSxZQUFZLFdBQVc7QUFDdkIsWUFBWSxZQUFZO0FBSXhCLE1BQU0sU0FBUyxTQUFTLGVBQWUsWUFBWTtBQUNuRCxJQUFJLENBQUMsUUFBUTtBQUNYLFVBQVEsTUFBTSxnREFBZ0Q7QUFDOUQsUUFBTSxJQUFJLE1BQU0sZ0RBQWdEO0FBQ2xFO0FBR0EsTUFBTSxRQUFRLElBQUksTUFBTSxNQUFNO0FBQzlCLE1BQU0sYUFBYSxJQUFJLE1BQU0sTUFBTSxPQUFRO0FBQzNDLE1BQU0sTUFBTSxJQUFJLE1BQU0sSUFBSSxTQUFVLEdBQUcsR0FBRztBQUcxQyxNQUFNLFNBQVMsSUFBSSxNQUFNO0FBQUEsRUFDdkI7QUFBQSxFQUNBLE9BQU8sY0FBYyxPQUFPO0FBQUE7QUFBQSxFQUM1QjtBQUFBLEVBQ0E7QUFDRjtBQUNBLE9BQU8sU0FBUyxJQUFJLEdBQUcsR0FBRyxFQUFFO0FBRzVCLE1BQU0sV0FBVyxJQUFJLE1BQU0sY0FBYyxFQUFFLFFBQWdCLFdBQVcsS0FBSyxDQUFDO0FBQzVFLFNBQVMsUUFBUSxPQUFPLGFBQWEsT0FBTyxZQUFZO0FBQ3hELFNBQVMsVUFBVSxVQUFVO0FBQzdCLFNBQVMsVUFBVSxPQUFPLE1BQU07QUFJaEMsTUFBTSxlQUFlLElBQUksTUFBTSxhQUFhLFVBQVUsR0FBRztBQUN6RCxNQUFNLElBQUksWUFBWTtBQUV0QixNQUFNLG1CQUFtQixJQUFJLE1BQU0saUJBQWlCLFVBQVUsR0FBRztBQUNqRSxpQkFBaUIsU0FBUyxJQUFJLElBQUksSUFBSSxFQUFFO0FBQ3hDLGlCQUFpQixhQUFhO0FBQzlCLGlCQUFpQixPQUFPLE9BQU8sT0FBTztBQUN0QyxpQkFBaUIsT0FB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
