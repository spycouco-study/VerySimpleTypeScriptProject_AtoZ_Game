class TetrisGame {
  // ... (rest of the class code remains unchanged until renderPlayingScreen)
  renderPlayingScreen() {
    this.drawGrid();
    this.drawUI();
    if (this.currentPiece) {
      const ghostPiece = this.currentPiece.clone();
      while (this.isValidMove(ghostPiece, 0, 1)) {
        ghostPiece.y++;
      }
      this.drawPiece(ghostPiece, 0, 0, this.config.gameSettings.ghostPieceAlpha);
      this.drawPiece(this.currentPiece, 0, 0, 1);
    }
  }
  // Audio Playback
  // ... (rest of the class code)
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiZ2FtZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY2xhc3MgVGV0cmlzR2FtZSB7XG4gICAgLy8gLi4uIChyZXN0IG9mIHRoZSBjbGFzcyBjb2RlIHJlbWFpbnMgdW5jaGFuZ2VkIHVudGlsIHJlbmRlclBsYXlpbmdTY3JlZW4pXG5cbiAgICBwcml2YXRlIHJlbmRlclBsYXlpbmdTY3JlZW4oKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZHJhd0dyaWQoKTtcbiAgICAgICAgdGhpcy5kcmF3VUkoKTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGllY2UpIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhbmQgZHJhdyBnaG9zdCBwaWVjZVxuICAgICAgICAgICAgY29uc3QgZ2hvc3RQaWVjZSA9IHRoaXMuY3VycmVudFBpZWNlLmNsb25lKCk7XG4gICAgICAgICAgICAvLyBNb3ZlIGdob3N0UGllY2UgZG93biB1bnRpbCBpdCBjb2xsaWRlc1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuaXNWYWxpZE1vdmUoZ2hvc3RQaWVjZSwgMCwgMSkpIHtcbiAgICAgICAgICAgICAgICBnaG9zdFBpZWNlLnkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERyYXcgZ2hvc3QgcGllY2UgYXQgaXRzIGZpbmFsIGNhbGN1bGF0ZWQgcG9zaXRpb24gKGdob3N0UGllY2UueCwgZ2hvc3RQaWVjZS55KVxuICAgICAgICAgICAgdGhpcy5kcmF3UGllY2UoZ2hvc3RQaWVjZSwgMCwgMCwgdGhpcy5jb25maWcuZ2FtZVNldHRpbmdzLmdob3N0UGllY2VBbHBoYSk7XG5cbiAgICAgICAgICAgIC8vIERyYXcgYWN0dWFsIGN1cnJlbnQgcGllY2UgYXQgaXRzIGN1cnJlbnQgcG9zaXRpb24gKHRoaXMuY3VycmVudFBpZWNlLngsIHRoaXMuY3VycmVudFBpZWNlLnkpXG4gICAgICAgICAgICB0aGlzLmRyYXdQaWVjZSh0aGlzLmN1cnJlbnRQaWVjZSwgMCwgMCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBdWRpbyBQbGF5YmFja1xuICAgIC8vIC4uLiAocmVzdCBvZiB0aGUgY2xhc3MgY29kZSlcbn1cbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBLE1BQU0sV0FBVztBQUFBO0FBQUEsRUFHTCxzQkFBNEI7QUFDaEMsU0FBSyxTQUFTO0FBQ2QsU0FBSyxPQUFPO0FBRVosUUFBSSxLQUFLLGNBQWM7QUFFbkIsWUFBTSxhQUFhLEtBQUssYUFBYSxNQUFNO0FBRTNDLGFBQU8sS0FBSyxZQUFZLFlBQVksR0FBRyxDQUFDLEdBQUc7QUFDdkMsbUJBQVc7QUFBQSxNQUNmO0FBRUEsV0FBSyxVQUFVLFlBQVksR0FBRyxHQUFHLEtBQUssT0FBTyxhQUFhLGVBQWU7QUFHekUsV0FBSyxVQUFVLEtBQUssY0FBYyxHQUFHLEdBQUcsQ0FBQztBQUFBLElBQzdDO0FBQUEsRUFDSjtBQUFBO0FBQUE7QUFJSjsiLAogICJuYW1lcyI6IFtdCn0K
